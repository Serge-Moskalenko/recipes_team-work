{
   "openapi":"3.0.1",
   "info":{
    "version":"1.0.6",
    "title": "Recipies API",
    "description":"Swagger for recipes"
   },
   "cunsumes":["application/json","multipart/form-data"],
   "produces":["application/json"],
   "servers":[{"url":"https://localhost:3000"}],
   "tags":[{
      "name":"Auth",
    "description":"Authorization endpoints"
   },
   {
    "name":"User",
    "description":"Authorized user endpoint"
   },
   {
      "name":"Subscribe",
      "description":"Subscribe to So Yummy"
   },
   {
      "name":"Recipes",
      "description":"So Yummy's Recipes"
   }],
   "paths":{
      "auth/register":{
         "post":{
            "tags":["Auth"],
            "summery":"User registration",
            "parameters":[],
            "requestBody":{
               "description":"Registration object",
               "required":true,
               "content":{
                  "application/json":{
                     "schema":{
                        "$ref":"#/components/schemas/Auth.RegistrationRequest"
                     }
                  }
               }
            },
            "responses":{
               "201":{
                  "description":"Successes",
                  "content":{
                     "application/json":{
                       "schema":{
                        "$ref":"#/components/schemas/Auth.RegistrationResponse"
                       }
                     }
                  }
               },
               "400":{
                  "description":"Bad request"
               },
               "409":{
               "description":"Email in use"
               }
            }
         }
      },
      "auth/login":{
         "post":{
            "tags":["Auth"],
            "summery":"User login",
            "parameters":[],
            "requestBody":{
               "description":"Login object",
               "required":true,
               "content":{
                  "application/json":{
                     "schema":{
                        "$ref":"#/components/schemas/Auth.LoginRequest"
                     }
                  }
               }
            },
            "responses":{
               "200":{
                  "description":"Successes",
                  "content":{
                     "application/json":{
                       "schema":{
                        "$ref":"#/components/schemas/Auth.LoginResponse"
                       }
                     }
                  }
               },
               "400":{
                  "description":"Bad request",
                  "content":{}
               },
               "401":{
                  "description":"Email or password is wrong",
                  "content":{}
               }
            }
         }
      },
      "auth/logout":{
         "post":{
            "tags":["Auth"],
            "summery":"User logout",
            "security":[{"Bearer":[]}],
            "parameters":[],
            "requestBody":{},
            "responses":{
               "204":{
                  "description":"OK",
                  "content":{}
               },
               "401":{
                  "description":"Not authenticated",
                  "content":{}
               }
            }
         }
      },
      "auth/current":{
         "get":{
            "tags":["User"],
            "summery":" Current user",
            "security":[{"Bearer":[]}],
            "requestBody":{},
            "responses":{
               "200":{
                  "description":"OK",
                  "content":{
                     "application/json":{
                       "schema":{
                        "$ref":"#/components/schemas/User.Current"
                       }
                     }
                  }
               },
               "401":{
                  "description":"Not authenticated",
                  "content":{}
               }
            }
         }
      },
     "auth/updateUser":{
         "patch":{
            "tags":["User"],
            "summery":"User's update",
            "security":[{"Bearer":[]}],
            "requestBody":{
                "description":"User's update object",
               "content":{
                  "multipart/form-data":{
                     "schema":{
                        "$ref":"#/components/schemas/User.UpdateUser"
                     }
                  }
               }
            },
            "responses":{
               "200":{
                  "description":"User profile updated successfully"
               },
               "401":{
                  "description":"Not authenticated"
               },
               "404":{
                  "description":"Not faund"
               }
            }
         }
      },
       "auth/countDayInfo":{
         "get":{
            "tags":["User"],
            "summery":"User's day's auth in SoYummy",
            "security":[{"Bearer":[]}],
            "responses":{  
               "200":{
                  "description":"Successes",
                  "content":{
                     "application/json":{
                       "schema":{
                        "$ref":"#/components/schemas/User.CountDayInfoResponse"
                       }
                     }
                  }
               },
               "401":{
                  "description":"Not authenticated"
               },
               "404":{
                  "description":"Not faund"
               }
            }
         }
      },
      "auth/favoritesRecipes":{
         "get":{
            "tags":["User"],
            "summery":"User's favorite recipes in SoYummy",
            "security":[{"Bearer":[]}],
            "responses":{  
               "200":{
                  "description":"OK",
                  "content":{
                     "application/json":{
                       "type":"string",
                        "example":"0"
                     }
                  }
               },
                "401":{
                  "description":"Error",
                  "content":{
                     "application/json":{
                       "type":"string",
                       "example":"Not authenticated"
                     }
                  }
               },
               "404":{
                  "description":"Error",
                  "content":{
                     "application/json":{
                       "type":"string",
                       "example":"Not faund"
                     }
                  }
               }
            }
         }
      },
      "auth/authOwnRecipes":{
         "get":{
            "tags":["User"],
            "summery":"User's favorite recipes in SoYummy",
            "security":[{"Bearer":[]}],
            "responses":{  
               "200":{
                  "description":"OK",
                  "content":{
                     "application/json":{
                        "type":"string",
                        "example":"2"
                     }
                  }
               },
                "401":{
                  "description":"Error",
                  "content":{
                     "application/json":{
                       "type":"string",
                       "example":"Not authenticated"
                     }
                  }
               },
               "404":{
                  "description":"Error",
                  "content":{
                     "application/json":{
                       "type":"string",
                       "example":"Not faund"
                     }
                  }
               }
            }
         }
      },
      "subscribe":{
         "post":{
            "tags":["Subscribe"],
            "summery":"Subscribe to So Yummy",
            "security":[{"Bearer":[]}],
            "requestBody":{
               "description":"Registration object",
               "required":true,
               "content":{
                  "application/json":{
                     "schema":{
                        "$ref":"#/components/schemas/SubscribeRequest"
                     }
                  }
               }
            },
            "responses":{  
               "200":{
                  "description":"OK",
                  "content":{
                     "application/json":{
                       "type":"string",
                       "example":"Subscribe is successfully"
                     }
                  }
               },
               "400":{
                  "description":"Error",
                  "content":{
                     "application/json":{
                       "type":"string",
                       "example":"Missing required field email"
                     }
                  }
               }
            }
            }},
      "recires/main-page":{
         "get":{
            "tags":["Recipes"],
            "summery":"Recipes for main page",
            "responses":{
               "201":{
                  "description":"Successes",
                  "content":{
                     "application/json":{
                       "schema":{
                        "$ref":"#/components/schemas/Recipes.MainPageResponse"
                       }
                     }
                  }
               },
               "400":{
                  "description":"Bad request"
               },
               "409":{
               "description":"Email in use"
               }
            }
         }
      }
      
   },
   "components":{
      "schemas":{
               "Auth.RegistrationRequest":{
            "type":"object",
            "required":["name","email","password"],
            "properties":{
               "name":{
                  "type":"string",
                  "description":"User's name",
                  "example":"Nick"
               },
               "email":{
                  "type":"string",
                  "description":"User's email",
                  "format":"email"

               },
               "password":{
                  "type":"string",
                  "description":"User's password",
                  "example":"123456"
               }
            }
         },
         "Auth.RegistrationResponse":{
           "type":"object",
            "properties":{
               "token":{
                  "type":"string",
                  "description":"User's token",
                  "example":"31421425252351341412"
               },
               "user":{
                  "type":"object",
                  "properties":{
                     "name":{
                  "type":"string",
                  "description":"User's name",
                  "example":"Nick"
               },
                  "email":{
                  "type":"string",
                  "description":"User's email",
                  "format":"email"
               },
                "avatar":{
                  "type":"string",
                  "description":"User's defaultAvatar",
                  "example":"https://res.cloudinary.com/do316uvkf/image/upload/v1680493837/szccttwukvqfijjovgz5.jpg"
               },
               "favorite":{
                  "type":"array",
                  "description":"User's favorite",
                  "example":[]
               },
               "shoppingList":{
                  "type":"array",
                  "description":"User's shoppingList",
                  "example":[]
               }
         }}}},
         "Auth.LoginRequest":{
            "type":"object",
            "required":["email","password"],
            "properties":{
               "email":{
                  "type":"string",
                  "description":"User's email",
                  "format":"email"
               },
               "password":{
                  "type":"string",
                  "description":"User's password",
                  "example":"123456"
               }
         }
         },
         "Auth.LoginResponse":{
         "type":"object",
            "properties":{
               "token":{
                  "type":"string",
                  "description":"User's token",
                  "example":"31421425252351341412"
               },
               "user":{
                  "type":"object",
                  "properties":{
                     "name":{
                  "type":"string",
                  "description":"User's name",
                  "example":"Nick"
               },
                  "email":{
                  "type":"string",
                  "description":"User's email",
                  "format":"email"
               }
                  }
               }
      }
       
         },
         "User.Current":{
            "type":"object",
             "properties":{
               "token":{
                  "type":"string",
                  "description":"User's token",
                  "example":"31421425252351341412"
               },
               "user":{
                  "type":"object",
                  "properties":{
                     "name":{
                  "type":"string",
                  "description":"User's name",
                  "example":"Nick"
               },
                  "email":{
                  "type":"string",
                  "description":"User's email",
                  "format":"email"
               },
                "avatar":{
                  "type":"string",
                  "description":"User's defaultAvatar",
                  "example":"https://res.cloudinary.com/do316uvkf/image/upload/v1680493837/szccttwukvqfijjovgz5.jpg"
               },
               "favorite":{
                  "type":"array",
                  "description":"User's favorite",
                  "example":[]
               },
               "shoppingList":{
                  "type":"array",
                  "description":"User's shoppingList",
                  "example":[]
               }
         }}
             }
         },
         "User.UpdateUser":{
            "type":"object",
             "properties":{
                "name":{
                  "type":"string",
                  "description":"User's name",
                  "example":"Nick"
               },"avatar":{
                  "type":"file",
                  "description":"User's avatar",
                  "format":"binary"
               }
             }
         },
         "User.CountDayInfoResponse":{
           "type":"array",
           "items":{
             "type":"object",
            "properties":{
               "numDays":{
                  "type":"string",
                  "example":"366"
               }     
            }
           }
         },
         "SubscribeRequest":{
             "type":"object",
            "required":["email"],
            "properties":{
               "email":{
                  "type":"string",
                  "description":"User's email",
                  "format":"email"
               }     
            }
         },
         "Recipes.MainPageResponse":{
            "type":"object",
            "properties":{
               "status":{
                  "type":"string",
                  "example":"success"
               },
               "code":{
                  "type":"string",
                  "example":"201"
               },
               "data":{
                  "type":"array",
                  "items":{
                     "":{
                        "type":"object",
                        "properties":{
                           "":{
                              
                           }
                        }
                     }
                  }
               }
            }
         }
    
      },
 "securitySchemes":{
            "Bearer":{
               "type":"http",
               "scheme":"bearer",
               "bearerFormat":"JWT"
            }
         }
}
}